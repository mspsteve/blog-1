# 父子路由切换显示

## 需求说明

在一些后台管理页面，常常涉及到列表页和详情页。

列表页包含查询条件和查询结果。查询条件可能有时间范围、关键字、下拉选择框等等条件，查询结果是以表格呈现的列表。

详情页是每一条查询结果的详细信息，点击列表页每一条查询结果的“详情”进入详情页。


## 解决方法

1. 情况一，列表页和详情页是同级路由：由列表页进入详情页时，列表页会被销毁，导致从详情页返回到列表页时需要重新填写查询条件重新查询，费时费力。此时，如果在列表页和详情页这个 router-view 上添加 keep-alive，可以保证列表页和详情页在切换时不被销毁，但是问题是不同查询结果详情页面可能不一样，如果 keep-alive 了需要将不一样的地方删除，无法很好的解决问题。

2. （推荐方法）情况二，将详情页设置为列表页的子路由，父子路由都不添加 keep-alive。点击“详情”进入详情页子路由时，将列表页包含框隐藏掉，此时只显示详情页。返回时，列表页包含框显示，子路由自动销毁，如此可以保证查询条件等保持不变。

HMLT 如下所示。
```html
<div>
	<div v-show="showChildRouter" class="list-ctn"></div>
	<router-view></router-view>
</div>

```